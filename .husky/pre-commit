#!/bin/sh
set -eu

echo "🔍 frontend: lint-staged (Prettier --check)"

npx --no lint-staged --config ./lint-staged.config.cjs

echo "🔍 frontend: ng lint (project)"

npm --prefix client run lint

echo "🔍 frontend: TypeScript static analysis"

npx --prefix client tsc --noEmit

echo "🔍 backend: dotnet format --verify-no-changes"

dotnet format ./server/server.csproj --verify-no-changes

echo "✅ pre-commit passed."